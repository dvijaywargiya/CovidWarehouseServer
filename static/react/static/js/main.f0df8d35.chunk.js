(this.webpackJsonpcovidwarehouse=this.webpackJsonpcovidwarehouse||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/loading.641bf49c.svg"},174:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),l=a.n(r),s=a(8),o=a(7),u=(a(90),a(26),function(e){var t=e.children,a=e.className,n=e.action,r=e.type,l=e.onClick,s=e.disabled;return c.a.createElement("button",{className:a,action:n,type:r,onClick:l,disabled:s},t)}),i=a(6),m=a(19),f=a.n(m),d=a(25),p=a.n(d),h=a(45),v=a(42),E=a(46),b=function(e){var t=e.listToBeSearched,a=e.text,r=e.setItems,l=e.clear,o=e.itemsSelected,u=Object(n.useState)([]),i=Object(s.a)(u,2),m=i[0],f=i[1];return Object(n.useEffect)((function(){!function(){var e=[];if(""!==a){for(var n=0;n<t.length;n++){(t[n].authorName||t[n].topicName).toUpperCase().indexOf(a.toUpperCase())>-1&&e.push(t[n])}f(e)}else f(e)}()}),[a,t]),m.length>0?c.a.createElement("div",{className:"search flex flex-column"},m.map((function(e,t){return c.a.createElement("div",{className:"search-result",onClick:function(){-1===o.indexOf(e)&&r([].concat(Object(v.a)(o),[e])),l("")},key:t},e.authorName||e.topicName)}))):""},N=function(){return c.a.createElement("div",{className:"loading-indicator"},c.a.createElement("img",{className:"loader-image",src:a(116),alt:"loader"}))},O=a(82),x=a.n(O),j=(a(117),[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020]),g=function(){var e=Object(E.usePromiseTracker)().promiseInProgress,t=Object(n.useState)([]),a=Object(s.a)(t,2),r=(a[0],a[1],Object(n.useState)(void 0)),l=Object(s.a)(r,2),o=l[0],i=l[1],m=Object(n.useState)(void 0),d=Object(s.a)(m,2),v=d[0],O=d[1],g=Object(n.useState)(""),S=Object(s.a)(g,2),k=S[0],y=S[1],C=Object(n.useState)(""),T=Object(s.a)(C,2),w=T[0],I=T[1],A=Object(n.useState)([]),U=Object(s.a)(A,2),P=U[0],V=U[1],B=Object(n.useState)([]),R=Object(s.a)(B,2),J=R[0],L=R[1],M=Object(n.useState)([]),D=Object(s.a)(M,2),G=D[0],F=D[1],Q=Object(n.useState)([]),W=Object(s.a)(Q,2),Y=W[0],z=W[1],H=Object(n.useState)([]),K=Object(s.a)(H,2),q=K[0],Z=K[1],_=Object(n.useState)(new Date),X=Object(s.a)(_,2),$=X[0],ee=X[1],te=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://10.4.20.197/api/query",{authors:P.map((function(e){return e.authorId})),topics:J.map((function(e){return e.topicId})),fromYear:o,toYear:v});case 2:t=e.sent,Z(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://10.4.20.197/api/getAuthors");case 2:t=e.sent,F(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(E.trackPromise)(e());var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://10.4.20.197/api/getTopics");case 2:t=e.sent,z(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(E.trackPromise)(t())}),[]),c.a.createElement("div",{className:"home"},e?c.a.createElement(N,null):c.a.createElement("div",null,c.a.createElement("div",{className:"flex flex-row flex-space-between warehouse-content"},c.a.createElement("div",{className:"flex flex-column filters"},c.a.createElement("div",{className:"flex flex-column filter"},c.a.createElement("span",{className:"filter-header"}," Year "),c.a.createElement("select",{className:"select-default",onChange:function(e){i(e.target.value),O(e.target.value)}},c.a.createElement("option",{defaultValue:!0},"From"),j.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))),o&&c.a.createElement("select",{className:"select-default",onChange:function(e){O(e.target.value)}},c.a.createElement("option",{defaultValue:!0},"To"),j.map((function(e,t){return o<=e?c.a.createElement("option",{key:t,onClick:function(){return i(e)}},e):""}))),c.a.createElement(x.a,{selected:$,onChange:function(e){return ee(format(e,"yyyy/MM/dd"))}}),console.log($)),c.a.createElement("div",{className:"flex flex-column filter"},c.a.createElement("span",{className:"filter-header"}," Search Authors "),c.a.createElement("input",{className:"input-default",type:"text",name:"author",onChange:function(e){return y(e.target.value)},autoComplete:"off",value:k}),c.a.createElement(b,{listToBeSearched:G,text:k,clear:y,setItems:V,itemsSelected:P})),c.a.createElement("div",{className:"flex flex-column filter"},c.a.createElement("span",{className:"filter-header"}," Authors Selected "),0===P.length?"None":c.a.createElement("div",null,"Click to deselect",P.map((function(e,t){return c.a.createElement("div",{className:"author-selections",key:t,onClick:function(){return V(P.filter((function(t){return t!==e})))}}," ",e.authorName," ")}))))),c.a.createElement("div",{className:"flex flex-column"},"RESULTS",c.a.createElement(u,{className:"btn btn-default",onClick:te},"Show"),q.map((function(e,t){return c.a.createElement("p",{key:t},e)}))),c.a.createElement("div",{className:"flex flex-column filters"},c.a.createElement("div",{className:"flex flex-column filter"},c.a.createElement("span",{className:"filter-header"}," Search Topics "),c.a.createElement("input",{className:"input-default",type:"text",name:"author",onChange:function(e){return I(e.target.value)},autoComplete:"off",value:w}),c.a.createElement(b,{listToBeSearched:Y,text:w,clear:I,setItems:L,itemsSelected:J})),c.a.createElement("div",{className:"flex flex-column filter"},c.a.createElement("span",{className:"filter-header"}," Topics Selected "),0===J.length?"None":c.a.createElement("div",null,"Click to deselect",J.map((function(e,t){return c.a.createElement("div",{className:"author-selections",key:t,onClick:function(){return L(J.filter((function(t){return t!==e})))}}," ",e.topicName," ")})))))),c.a.createElement("div",{className:"information"},c.a.createElement("p",null,"Created by DSAC Datawarehouse team (",c.a.createElement("a",{href:"https://forms.office.com/Pages/ResponsePage.aspx?id=vDsaA3zPK06W7IZ1VVQKHIBWnf-SbBNOhMNj4dbQlR9UNkM0QU5STzJNUFBNTVdEVTlUV1A4UTRVMS4u",target:"_blank"},"Feedback?"),")"),c.a.createElement("p",null,"This is the alpha version covering about 2400 papers "))))},S=a(21),k=function(){var e=c.a.useContext(y),t=e.state,a=e.dispatch;return c.a.createElement("header",{className:"nav-header"},c.a.createElement(S.b,{className:"link link-light",to:"/"},c.a.createElement("div",{className:"brand"},c.a.createElement("span",{className:"brand-text"},"IIIT-H Covid Papers Warehouse (Version Alpha)"))),c.a.createElement("nav",null,t.isAuthenticated&&c.a.createElement(u,{className:"btn btn-default",onClick:function(){return a({type:"LOGOUT"})}},"Log out")))},y=c.a.createContext(),C={isAuthenticated:!1,user:null,token:null},T=function(e,t){switch(t.type){case"LOGIN":case"REGISTER":return localStorage.setItem("user",JSON.stringify(t.payload.user)),localStorage.setItem("token",JSON.stringify(t.payload.token)),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!0,user:t.payload.user,token:t.payload.token});case"LOGOUT":return localStorage.clear(),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!1,user:null});default:return e}};var w=function(){var e=c.a.useReducer(T,C),t=Object(s.a)(e,2),a=t[0],n=t[1];return c.a.createElement(y.Provider,{value:{state:a,dispatch:n}},c.a.createElement(k,null),c.a.createElement("div",{className:"App"},c.a.createElement(i.a,{exact:!0,path:"/",component:(a.isAuthenticated,g)})))};l.a.render(c.a.createElement(S.a,null,c.a.createElement(w,null)),document.getElementById("root"))},85:function(e,t,a){e.exports=a(174)},90:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.f0df8d35.chunk.js.map