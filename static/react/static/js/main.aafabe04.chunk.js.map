{"version":3,"sources":["assets/images/loading.svg","components/Button.js","components/TitleSearch.js","components/LoadingIndicator.js","pages/Home.js","components/Header.js","App.js","index.js"],"names":["module","exports","Button","children","className","action","type","onClick","disabled","Search","props","listToBeSearched","text","setItems","clear","itemsSelected","useState","searchResults","setSearchResults","useEffect","toBeAppended","i","length","authorName","topicName","toUpperCase","indexOf","push","updateSearchResults","map","result","key","LoadingIndicator","src","require","alt","years","Home","promiseInProgress","usePromiseTracker","undefined","fromYear","setFromYear","toYear","setToYear","authorSearch","setAuthorSearch","topicsSearch","setTopicsSearch","authorsSelected","selectAuthors","topicsSelected","selectTopics","authors","setAuthors","topics","setTopics","files","setFiles","onSubmit","a","axios","post","ele","authorId","topicId","response","data","fetchAuthors","get","trackPromise","fetchTopics","onChange","event","target","value","defaultValue","name","autoComplete","filter","author","console","log","href","link","title","topic","Header","React","useContext","AuthContext","state","dispatch","to","isAuthenticated","createContext","initialState","user","token","reducer","localStorage","setItem","JSON","stringify","payload","App","useReducer","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aafabe04.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.641bf49c.svg\";","import React from 'react'\n\nconst Button = ({ children, className, action, type, onClick, disabled }) => {\n  return (\n    <button\n      className={className}\n      action={action}\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n    >\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import React, { useState, useEffect } from 'react'\n\nconst Search = (props) => {\n  const { listToBeSearched, text, setItems, clear, itemsSelected } = props\n  const [searchResults, setSearchResults] = useState([])\n\n  useEffect(() => {\n    const updateSearchResults = () => {\n      const toBeAppended = []\n      if (text === '') {\n        setSearchResults(toBeAppended)\n        return\n      }\n      for (let i = 0; i < listToBeSearched.length; i++) {\n        const txtVal = listToBeSearched[i].authorName || listToBeSearched[i].topicName \n        if (txtVal.toUpperCase().indexOf(text.toUpperCase()) > -1)\n          toBeAppended.push(listToBeSearched[i])\n      }\n      setSearchResults(toBeAppended)\n    }\n    updateSearchResults()\n  }, [text, listToBeSearched])\n\n  return searchResults.length > 0 ? (\n    <div className='search flex flex-column'>\n      {searchResults.map((result, key) => {\n        return (\n          <div\n            className='search-result'\n            onClick={() => {\n              if(itemsSelected.indexOf(result) === -1)\n                setItems([...itemsSelected, result])\n\n              clear('')\n            }}\n            key={key}\n          >\n            {result.authorName || result.topicName}\n          </div>\n        )\n      })}\n    </div>\n  ) : (\n    ''\n  )\n}\n\nexport default Search\n","import React from 'react'\n\nconst LoadingIndicator = () => {\n  return (\n    <div className='loading-indicator'>\n      <img\n        className='loader-image'\n        src={require('../assets/images/loading.svg')}\n        alt='loader'\n      ></img>\n    </div>\n  )\n}\n\nexport default LoadingIndicator\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\n// import { AuthContext } from '../App';\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\n\nimport Button from '../components/Button'\nimport Search from '../components/TitleSearch'\n\nimport LoadingIndicator from '../components/LoadingIndicator'\n\n\nconst frequentItemList = [\n  'frequentItemset1',\n  'frequentItemset2',\n  'frequentItemset3',\n  'frequentItemset4',\n  'frequentItemset5'\n]\n\nconst years = [\n  2010, 2011, 2012, 2013, 2014, 2015,2016, 2017, 2018, 2019, 2020\n]\n\nexport const Home = () => {\n  // const { state } = React.useContext(AuthContext);\n  const { promiseInProgress } = usePromiseTracker()\n\n  const [selectedItemsets, setSelectedItemsets] = useState([])\n\n  const [fromYear, setFromYear] = useState(undefined)\n  const [toYear, setToYear] = useState(undefined)\n\n  const [authorSearch, setAuthorSearch] = useState('')\n  const [topicsSearch, setTopicsSearch] = useState('')\n  const [authorsSelected, selectAuthors] = useState([])\n  const [topicsSelected, selectTopics] = useState([])\n\n  const [authors, setAuthors] = useState([])\n  const [topics, setTopics] = useState([])\n\n  const [files, setFiles] = useState([])\n\n  \n  const handleItemsetClick = (ele) => {\n    if(selectedItemsets && selectedItemsets.indexOf(ele) > -1){\n      setSelectedItemsets(selectedItemsets.filter((val) => val !== ele))\n    }else setSelectedItemsets([...selectedItemsets, ele])\n  }\n\n  const onSubmit = async () => {\n    const response = await axios.post(\"http://10.4.20.197/api/query\", {\n      authors: authorsSelected.map((ele) => ele.authorId),\n      topics: topicsSelected.map((ele) => ele.topicId),\n      fromYear: fromYear,\n      toYear: toYear\n    })\n    setFiles(response.data)\n  }\n\n  useEffect(() => {\n    const fetchAuthors = async () => {\n      const response = await axios.get(\"http://10.4.20.197/api/getAuthors\")\n      setAuthors(response.data)\n    }\n    trackPromise(fetchAuthors())\n    const fetchTopics = async () => {\n      const response = await axios.get(\"http://10.4.20.197/api/getTopics\")\n      setTopics(response.data)\n    }\n    trackPromise(fetchTopics())\n  }, [])\n\n  return (\n    <div className='home'>\n      {promiseInProgress ? <LoadingIndicator /> : (\n        <div>\n          <div className='flex flex-row flex-space-between warehouse-content'>\n          <div className='flex flex-column filters'>\n            <div className='flex flex-column filter'>\n              <span className='filter-header'> Year </span>\n              <select className='select-default' onChange={(event) => {\n                  setFromYear(event.target.value)\n                  setToYear(event.target.value)\n                }}>\n                <option defaultValue={true}>From</option>\n                {years.map((ele, key) => {\n                  return <option key={key} value={ele} >{ele}</option>\n                })}\n              </select>\n              {fromYear && \n                <select className='select-default' onChange={(event) => {\n                  setToYear(event.target.value)\n                }}>\n                  <option defaultValue={true}>To</option>\n                  {years.map((ele, key) => {\n                    return fromYear <= ele ? <option key={key} onClick={() => setFromYear(ele)}>{ele}</option> : ''\n                  })}\n                </select>\n\t      }\n            </div>\n            <div className='flex flex-column filter'>\n              <span className='filter-header'> Search Authors </span>\n              <input\n                className='input-default'\n                type='text'\n                name='author'\n                onChange={(event) => setAuthorSearch(event.target.value)}\n                autoComplete='off'\n                value={authorSearch}\n              />\n              <Search \n                listToBeSearched={authors} \n                text={authorSearch} \n                clear={setAuthorSearch} \n                setItems={selectAuthors} \n                itemsSelected={authorsSelected}/>\n            </div>\n            <div className='flex flex-column filter'>\n              <span className='filter-header'> Authors Selected </span>\n              {authorsSelected.length === 0 ? 'None': (\n                <div>\n                  Click to deselect\n                {authorsSelected.map((ele, key) => {\n                  return <div className='author-selections' \n                              key={key}\n                              onClick={() => selectAuthors(authorsSelected.filter((author) => author !== ele))}> {ele.authorName} </div>\n                })}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className='flex flex-column results'>\n            RESULTS\n              <Button className='btn btn-default' onClick={onSubmit}>\n                Show\n              </Button>\n\t      {console.log(files)}\n            {files.map((ele, key) => {\n              return (\n                <p key={key}> <a href={ele.link} target='_blank'>{ele.title}</a></p>\n              )\n            })}\n          </div>\n          <div className='flex flex-column filters'>\n            <div className='flex flex-column filter'>\n              <span className='filter-header'> Search Topics </span>\n              <input\n                className='input-default'\n                type='text'\n                name='author'\n                onChange={(event) => setTopicsSearch(event.target.value)}\n                autoComplete='off'\n                value={topicsSearch}\n              />\n              <Search \n                listToBeSearched={topics} \n                text={topicsSearch} \n                clear={setTopicsSearch} \n                setItems={selectTopics} \n                itemsSelected={topicsSelected}/>\n            </div>\n            <div className='flex flex-column filter'>\n              <span className='filter-header'> Topics Selected </span>\n              {topicsSelected.length === 0 ? 'None': (\n                <div>\n                  Click to deselect\n                {topicsSelected.map((ele, key) => {\n                  return <div className='author-selections' \n                              key={key}\n                              onClick={() => selectTopics(topicsSelected.filter((topic) => topic !== ele))}> {ele.topicName} </div>\n                })}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className='information'>\n          <p>Created by DSAC Datawarehouse team (<a href='https://forms.office.com/Pages/ResponsePage.aspx?id=vDsaA3zPK06W7IZ1VVQKHIBWnf-SbBNOhMNj4dbQlR9UNkM0QU5STzJNUFBNTVdEVTlUV1A4UTRVMS4u' target='_blank'>Feedback?</a>)</p>\n      \t  <p>This is the alpha version covering about 2400 papers </p>\n        </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { AuthContext } from \"../App\";\nimport { Link } from 'react-router-dom';\nimport Button from './Button'\n\nexport const Header = () => {\n  const { state, dispatch } = React.useContext(AuthContext);\n  return (\n    <header className='nav-header'>\n      <Link className='link link-light' to='/'>\n        <div className='brand'>\n          <span className='brand-text'>IIIT-H Covid Papers Warehouse (Version Alpha)</span>\n        </div>\n      </Link>\n      <nav>\n        {state.isAuthenticated && (\n          <Button\n            className='btn btn-default'\n            onClick={() =>\n              dispatch({\n                type: \"LOGOUT\"\n              })\n            }\n          >\n            Log out\n          </Button>\n        )}\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport './assets/scss/index.scss'\nimport Login from './pages/Login';\nimport Register from './pages/Register'\nimport Home from './pages/Home';\nimport Header from './components/Header';\n\nimport { Route } from 'react-router-dom'\nexport const AuthContext = React.createContext();\n\nconst initialState = {\n  isAuthenticated: false,\n  user: null,\n  token: null,\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      localStorage.setItem('user', JSON.stringify(action.payload.user));\n      localStorage.setItem('token', JSON.stringify(action.payload.token));\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n    case 'REGISTER':\n      localStorage.setItem('user', JSON.stringify(action.payload.user));\n      localStorage.setItem('token', JSON.stringify(action.payload.token));\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n    case 'LOGOUT':\n      localStorage.clear();\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null\n      };\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  // React.useEffect(() => {\n  //   const user = localStorage.getItem('user') || null\n  //   const token = localStorage.getItem('token') || null\n\n  //   if(user && token){\n  //     dispatch({\n  //       type: 'LOGIN',\n  //       payload: {\n  //         user,\n  //         token\n  //       }\n  //     })\n  //   }else {\n  //     dispatch({\n  //       type: 'LOGOUT',\n  //     })\n  //   }\n  // }, [])\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        state,\n        dispatch\n      }}\n    >\n      <Header />\n      <div className='App'>\n        <Route exact path='/' component={state.isAuthenticated ? Home: Home}/>\n        {/* <Route exact path='/login' component={Login}/>\n        <Route exact path='/register' component={Register}/> */}\n      </div>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n<BrowserRouter><App /></BrowserRouter>\n, document.getElementById('root'));"],"sourceRoot":""}